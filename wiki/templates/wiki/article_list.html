{% extends 'base.html' %}
{% load static %}
{% block headcontent %}
	<link rel="stylesheet" href="{% static 'wiki/style.css' %}">
{% endblock %}
{% block content %}
<main class="two-col">
	{% if user.is_authenticated %}
		<section class="card user-threads">
			<section class="top">
			<h1>Your Articles</h1>
			<ul class="fullw-list">
				{% for thread in user_threads %}
				<li>
					<a href="{% url 'forum:thread_detail' thread.id %}">{{ thread.title }}</a>
				</li>
				{% empty %}
				<li>No threads created by you.</li>
				{% endfor %}
			</ul>
			</section>
			<a href="{% url 'forum:thread_create' %}" class="button">+ Create New Thread</a>
		</section>
	{% endif %}

	<section class="card all-items">
		<h1>All Threads</h1>
		{% for category in categories %}
			<h2>{{ category.name }}</h2>
			<ul class="fullw-list">
				{% for thread in category.threads.all %}
					{% if thread.author != user.profile %}
						<li>
							<a href="{% url 'forum:detail' thread.id %}">{{ thread.title }}</a>
						</li>
					{% endif %}
				{% empty %}
				<li>No threads in this category.</li>
				{% endfor %}
			</ul>
		{% endfor %}
	</section>
</main>
=======
{% extends 'wiki/base.html' %}
{% block title %}Wiki Articles{% endblock %}
{% block content %}
    <h1 class="title">Wiki Articles</h1>

    <a href="{% url 'article-create' %}">Create a new article</a>

    <h2>Your Articles</h2>
    <ul class="article-list">
        {% for article in articles %}
            {% if article.author == user.profile %}
                <li class="article-heading">
                <article>
                    <a href="{% url 'article-detail' article.pk %}">{{ article.title }}</a>
                    <p class="category">{{ article.category }}</p>
                    <p>Created on: {{ article.created_on | date }}</p>
                    <p>Updated on: {{ article.updated_on | date }}</p>
                </article>
                <hr>
            </li>
            {% endif %}
        {% endfor %}
    </ul>

    <h2>All Articles</h2>
    {% for category in categories %}
        <h3>{{ category.name }}</h3>
        <ul>
            {% for article in category.articles.all %}
                <li><a href="{% url 'article-detail' article.pk %}">{{ article.title }}</a></li>
            {% endfor %}
        </ul>
    {% endfor %}
{% endblock %}
